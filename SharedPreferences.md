### SharedPreference

app의 간단한 설정 정보들을 저장하기 위해서 안드로이드에서는 SharedPreferences class를 제공한다.  
파일시스템 기반으로서 XML 형태로 저장이 되며, SQLite를 사용하기에 부담스러운 것들을 저장하기에는 유용하다.  
저장되는 값은 name,value 구조의 쌍으로 저장한다!
  
설정 파일은 **data/data/패키지 이름/shared\_prefs/** 의 경로에 고정되어 저장된다.  
일반적으로는 실행하는 앱에서만 사용가능하지만, **파일 모드**를 변경하여 다른 앱에서도 사용은 가능하긴 하다.

#### 1\. 설정 값 저장하기

<table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#272727;border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#f0f0f0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%">SharedPreferences&nbsp;prefs&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;getSharedPreferences(&nbsp;(Stirng)Preferences_name&nbsp;,&nbsp;MODE_PRIVATE);</div><div style="padding:0 6px; white-space:pre; line-height:130%">SharedPreferences.Editor&nbsp;ed&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;prefs.edit();</div><div style="padding:0 6px; white-space:pre; line-height:130%">ed.putString(&nbsp;(Stirng)key&nbsp;,&nbsp;value&nbsp;);&nbsp;<span style="color:#999999">//&nbsp;value&nbsp;:&nbsp;저장될&nbsp;값&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">ed.putInt(&nbsp;(Stirng)key&nbsp;,&nbsp;value&nbsp;);</div><div style="padding:0 6px; white-space:pre; line-height:130%">ed.commit();&nbsp;<span style="color:#999999">//&nbsp;필수!&nbsp;commit을&nbsp;해줘야&nbsp;저장이&nbsp;된다.</span></div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></tbody></table>

#### 2\. 설정 값 불러오기

<table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#272727;border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#f0f0f0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%">SharedPreferences&nbsp;prefs&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;getSharedPreferences(&nbsp;(Stirng)Preferences_name&nbsp;,MODE_PRIVATE);</div><div style="padding:0 6px; white-space:pre; line-height:130%">prefs.getString(&nbsp;(Stirng)key,&nbsp;&nbsp;default_value&nbsp;);</div><div style="padding:0 6px; white-space:pre; line-height:130%">prefs.getInt(&nbsp;(Stirng)key,&nbsp;&nbsp;default_value&nbsp;);</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></tbody></table>

#### getSharedPreferences( (Stirng)Preferences\_name , (int)MODE );

-   MODE => 설정파일을 불러올때의 모드
    
    -   MODE\_PRIVATE : 자기 app 내에서 사용할때, 기본값이며, 0
    -   MODE\_WORLD\_READABLE : 다른 app에서 읽기 가능
    -   MODE\_WORLD\_WRITEABLE : 다른 app에서 쓰기 가능
-   Preferences\_name => 설정 값들이 저장되는 파일의 이름. (다양한 설정 파일들이 존재할수 있기 때문에)
    
-   key => string 형이며, 값의 변수명 역할을 수행하는 이름.
    
-   default\_value => key에 해당하는 저장값이 없을때, 불러올 기본값.  
    위에서 보여준 String, int이외에도 Long,float 등 다양한 메서드를 지원한다.
    

### Summary

#### WRITE

<table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#272727;border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#f0f0f0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;SharedPreferences&nbsp;prefs&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;getSharedPreferences(<span style="color:#ffd500">"CyLostPrefName"</span>,&nbsp;MODE_PRIVATE);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;Editor&nbsp;ed&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;prefs.edit();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;ed.putString(<span style="color:#ffd500">"gmailID"</span>,&nbsp;<span style="color:#ffd500">"snazzy7979"</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;ed.putString(<span style="color:#ffd500">"gmailPWD"</span>,&nbsp;<span style="color:#ffd500">"pwd12345"</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;ed.commit();</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></tbody></table>

#### REMOVE

<table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#272727;border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#f0f0f0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%">SharedPreferences&nbsp;prefs&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;getSharedPreferences(<span style="color:#ffd500">"androesPrefName"</span>,&nbsp;MODE_PRIVATE);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">Editor&nbsp;ed&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;prefs.edit();</div><div style="padding:0 6px; white-space:pre; line-height:130%">ed.remove(<span style="color:#ffd500">"gmailID"</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">ed.remove(<span style="color:#ffd500">"gmailPWD"</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">//&nbsp;ed.clear();</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">ed.commit();</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></tbody></table>

#### READ

<table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#272727;border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#f0f0f0;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%">SharedPreferences&nbsp;prefs&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;getSharedPreferences(<span style="color:#ffd500">"androesPrefName"</span>,&nbsp;MODE_PRIVATE);</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#4be6fa">String</span>&nbsp;gmailID&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;prefs.getString(<span style="color:#ffd500">"gmailID"</span>,&nbsp;<span style="color:#ffd500">""</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#4be6fa">String</span>&nbsp;gmailPWD&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;prefs.getString(<span style="color:#ffd500">"gmailPWD"</span>,&nbsp;<span style="color:#ffd500">""</span>);</div></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></tbody></table>